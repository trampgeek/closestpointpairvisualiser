/*! ConvexHullDemo 2019-05-08 */
define(["geom"],function(a){function b(a,b){for(var c=0;c<a.length;c++)if(a[c]===b){a.splice(c,1);break}}function c(c){function d(a){j.push({frontierPoint:k,candidate:a,d:m,frontier:o?o.slice():null,closestPair:l?l.slice():null})}var e,f,g,h,i=[],j=[],k=null,l=null,m=0,n=0,o=null,p=0;for(d(null),e=0;e<c.length;e++)i.push(new a.Vec(c[e][0],c[e][1]));for(i.sort(function(a,b){return a.x<b.x?-1:a.x==b.x?a.y<b.y?-1:a.y==b.y?0:1:1}),l=[i[0],i[1]],o=[i[0],i[1]],m=i[0].minus(i[1]).dist(),g=0,e=2;m>0&&e<i.length;){for(k=i[e];k.x-i[g].x>m;)b(o,i[g]),g+=1;for(d(null),h=[],f=0;f<o.length;f++)Math.abs(o[f].y-k.y)<=m&&h.push(o[f]);for(n=m,f=0;f<h.length;f++)p=k.minus(h[f]).dist(),d(h[f]),p<n&&(n=p,l=[h[f],k],d(null));m=n,o.push(k),e+=1}return console.log("Closest points: "+l),j}return c});